-- 服務器腳本，通常放在ServerScriptService
local replicatedStorage = game:GetService("ReplicatedStorage")

-- 創建 AddMoney RemoteEvent
local addMoneyEvent = Instance.new("RemoteEvent")
addMoneyEvent.Name = "AddMoney"
addMoneyEvent.Parent = replicatedStorage

-- 當玩家加入遊戲時，確保他們有leaderstats和Money
game.Players.PlayerAdded:Connect(function(player)
    local leaderstats = player:FindFirstChild("leaderstats")
    if not leaderstats then
        leaderstats = Instance.new("Folder")
        leaderstats.Name = "leaderstats"
        leaderstats.Parent = player
    end

    local money = leaderstats:FindFirstChild("Money")
    if not money then
        money = Instance.new("IntValue")
        money.Name = "Money"
        money.Value = 10000
        money.Parent = leaderstats
    end
end)

-- 使用RemoteEvent來增加Money
addMoneyEvent.OnServerEvent:Connect(function(player, amount)
    local leaderstats = player:FindFirstChild("leaderstats")
    if leaderstats then
        local money = leaderstats:FindFirstChild("Money")
        if money then
            money.Value = money.Value + amount
        end
    end
end)

-- 客戶端腳本，通常放在StarterPlayerScripts
local player = game.Players.LocalPlayer
local addMoneyEventClient = replicatedStorage:WaitForChild("AddMoney")

-- 示例：當玩家聊天輸入 "/addmoney" 時，增加Money
player.Chatted:Connect(function(msg)
    if msg == "!addmoney" then
        addMoneyEventClient:FireServer(100)
    end
end)
